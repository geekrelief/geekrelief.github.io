<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>src/genit</title>
<link rel="stylesheet" type="text/css" href="nimdoc.out.css">

<script type="text/javascript" src="dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }

  function switchTheme(e) {
      if (e.target.checked) {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
      } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
      }
  }

  const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
  if (toggleSwitch !== null) {
    toggleSwitch.addEventListener('change', switchTheme, false);
  }

  var currentTheme = localStorage.getItem('theme');
  if (!currentTheme && window.matchMedia('(prefers-color-scheme: dark)').matches) {
    currentTheme = 'dark';
  }
  if (currentTheme) {
    document.documentElement.setAttribute('data-theme', currentTheme);

    if (currentTheme === 'dark' && toggleSwitch !== null) {
      toggleSwitch.checked = true;
    }
  }
}

window.addEventListener('DOMContentLoaded', main);
</script>

</head>
<body>
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">src/genit</h1>
    <div class="row">
  <div class="three columns">
  <div class="theme-switch-wrapper">
    <label class="theme-switch" for="checkbox">
      <input type="checkbox" id="checkbox" />
      <div class="slider round"></div>
    </label>
    &nbsp;&nbsp;&nbsp; <em>Dark Mode</em>
  </div>
  <div id="global-links">
    <ul class="simple">
    <li>
      <a href="theindex.html">Index</a>
    </li>
    </ul>
  </div>
  <div id="searchInputDiv">
    Search: <input type="text" id="searchInput"
      onkeyup="search()" />
  </div>
  <div>
    Group by:
    <select onchange="groupBy(this.value)">
      <option value="section">Section</option>
      <option value="type">Type</option>
    </select>
  </div>
  <ul class="simple simple-toc" id="toc-list">
<li><a class="reference" id="rules_toc" href="#rules">Rules</a></li>
<ul class="simple"><li><a class="reference" id="rules-named-arguments_toc" href="#rules-named-arguments">Named Arguments</a></li>
<li><a class="reference" id="rules-unnamed-arguments_toc" href="#rules-unnamed-arguments">Unnamed Arguments</a></li>
<li><a class="reference" id="rules-global-named-arguments_toc" href="#rules-global-named-arguments">Global Named Arguments</a></li>
<li><a class="reference" id="rules-index_toc" href="#rules-index">Index</a></li>
<li><a class="reference" id="rules-rename-it_toc" href="#rules-rename-it">Rename <tt class="docutils literal"><span class="pre">it</span></tt></a></li>
<li><a class="reference" id="rules-tuple-arguments_toc" href="#rules-tuple-arguments">Tuple Arguments</a></li>
<li><a class="reference" id="rules-stringify_toc" href="#rules-stringify">Stringify</a></li>
<li><a class="reference" id="rules-capitalize_toc" href="#rules-capitalize">Capitalize</a></li>
<li><a class="reference" id="rules-expansion_toc" href="#rules-expansion">Expansion</a></li>
<li><a class="reference" id="rules-type-fields_toc" href="#rules-type-fields">Type Fields</a></li>
<li><a class="reference" id="rules-multiple-statements-and-nesting_toc" href="#rules-multiple-statements-and-nesting">Multiple Statements and Nesting</a></li>
<li><a class="reference" id="rules-special-constructs_toc" href="#rules-special-constructs">Special Constructs</a></li>
<li><a class="reference" id="rules-debugging-with-print_toc" href="#rules-debugging-with-print">Debugging with <tt class="docutils literal"><span class="pre">print</span></tt></a></li>
</ul><li>
  <a class="reference reference-toplevel" href="#17" id="67">Macros</a>
  <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">debug
      <li><a class="reference" href="#debug.m%2Cuntyped"
    title="debug(body: untyped): untyped">debug(body: untyped): untyped</a></li>

  </ul>
  <ul class="simple nested-toc-section">gen
      <li><a class="reference" href="#gen.m%2Cvarargs%5Buntyped%5D"
    title="gen(va: varargs[untyped]): untyped">gen(va: varargs[untyped]): untyped</a></li>

  </ul>
  <ul class="simple nested-toc-section">genWith
      <li><a class="reference" href="#genWith.m%2Ctyped%2Cvarargs%5Buntyped%5D"
    title="genWith(x: typed; args: varargs[untyped]): untyped">genWith(x: typed; args: varargs[untyped]): untyped</a></li>

  </ul>
  <ul class="simple nested-toc-section">print
      <li><a class="reference" href="#print.m%2Cuntyped"
    title="print(body: untyped): untyped">print(body: untyped): untyped</a></li>

  </ul>

  </ul>
</li>

</ul>

  </div>
  
  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  
  <p class="module-desc"><table class="docinfo" frame="void" rules="none"><col class="docinfo-name" /><col class="docinfo-content" /><tbody valign="top"><tr><th class="docinfo-name">Author:</th><td>Don-Duong Quach</td></tr>
<tr><th class="docinfo-name">License:</th><td>MIT</td></tr>
<tr><th class="docinfo-name">Version:</th><td>0.11.2</td></tr>
</tbody></table><p><a class="reference external" href="https://github.com/geekrelief/genit/">Source</a></p>
<p>This module has a macro <tt class="docutils literal"><span class="pre">gen</span></tt> which implements a small DSL for inline code generation. <tt class="docutils literal"><span class="pre">gen</span></tt> acts like an anonymous, dirty, template/macro for generating lots of similar repetitive code.</p>
<p>Arguments are subsituted into a body of code using the following rules.</p>

<h1><a class="toc-backref" id="rules" href="#rules">Rules</a></h1>
<h2><a class="toc-backref" id="rules-named-arguments" href="#rules-named-arguments">Named Arguments</a></h2><p>Named arguments are local to the gen call and substituted into the body.</p>

<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">src</span><span class="Operator">/</span><span class="Identifier">genit</span>
<span class="Identifier">gen</span><span class="Punctuation">(</span><span class="Identifier">r</span> <span class="Operator">=</span> <span class="Identifier">Radial</span><span class="Punctuation">,</span> <span class="Identifier">c</span> <span class="Operator">=</span> <span class="Identifier">Component</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Comment"># produces: </span>
  <span class="Keyword">var</span> <span class="Punctuation">`</span><span class="Identifier">r</span> <span class="Identifier">c</span><span class="Punctuation">`</span><span class="Punctuation">:</span> <span class="Identifier">float</span>              <span class="Comment"># var RadialComponent: float</span>
<span class="Identifier">doAssert</span> <span class="Identifier">typeof</span><span class="Punctuation">(</span><span class="Identifier">RadialComponent</span><span class="Punctuation">)</span> <span class="Keyword">is</span> <span class="Identifier">float</span></pre>
<h2><a class="toc-backref" id="rules-unnamed-arguments" href="#rules-unnamed-arguments">Unnamed Arguments</a></h2><p>Unnamed arguments repeat the body and replaces the item identifier, <tt class="docutils literal"><span class="pre">it</span></tt>, with the argument. </p>

<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">src</span><span class="Operator">/</span><span class="Identifier">genit</span>
<span class="Identifier">gen</span> <span class="Identifier">red</span><span class="Punctuation">,</span> <span class="Identifier">green</span><span class="Punctuation">,</span> <span class="Identifier">blue</span><span class="Punctuation">:</span> <span class="Comment"># produces:</span>
  <span class="Keyword">var</span> <span class="Punctuation">`</span><span class="Identifier">it</span> <span class="Identifier">Val</span><span class="Punctuation">`</span><span class="Punctuation">:</span> <span class="Identifier">int</span>   <span class="Comment"># var redVal: int</span>
                      <span class="Comment"># var greenVal: int</span>
                      <span class="Comment"># var blueVal: int</span>
<span class="Identifier">doAssert</span> <span class="Identifier">typeof</span><span class="Punctuation">(</span><span class="Identifier">redVal</span><span class="Punctuation">)</span> <span class="Keyword">is</span> <span class="Identifier">int</span>
<span class="Identifier">doAssert</span> <span class="Identifier">typeof</span><span class="Punctuation">(</span><span class="Identifier">greenVal</span><span class="Punctuation">)</span> <span class="Keyword">is</span> <span class="Identifier">int</span>
<span class="Identifier">doAssert</span> <span class="Identifier">typeof</span><span class="Punctuation">(</span><span class="Identifier">blueVal</span><span class="Punctuation">)</span> <span class="Keyword">is</span> <span class="Identifier">int</span></pre>
<h2><a class="toc-backref" id="rules-global-named-arguments" href="#rules-global-named-arguments">Global Named Arguments</a></h2><p>Global named arguments can be assigned with the <tt class="docutils literal"><span class="pre">:=</span></tt> operator.</p>

<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">src</span><span class="Operator">/</span><span class="Identifier">genit</span>
<span class="LongComment">#[ 
# runnableExamples doesn't like `:=`, but the following works
gen(c := Component) 

gen a:
  var `it c`: int = 1

gen b:
  var `c it`: int = 2

doAssert aComponent == 1
doAssert ComponentB == 2

gen(c := Comp)

gen d:
  var `it c`:int = 3

doAssert dComp == 3
]#</span>
<span class="Keyword">discard</span></pre>
<h2><a class="toc-backref" id="rules-index" href="#rules-index">Index</a></h2><p>The index for unnamed arguments can be accessed using the <tt class="docutils literal"><span class="pre">%</span></tt> operator.</p>

<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">src</span><span class="Operator">/</span><span class="Identifier">genit</span>
<span class="Identifier">gen</span> <span class="Identifier">red</span><span class="Punctuation">,</span> <span class="Identifier">green</span><span class="Punctuation">,</span> <span class="Identifier">blue</span><span class="Punctuation">:</span> <span class="Comment"># produces</span>
  <span class="Keyword">var</span> <span class="Identifier">it</span> <span class="Operator">=</span> <span class="Operator">%</span><span class="Identifier">it</span>        <span class="Comment"># var red = 0</span>
                      <span class="Comment"># var green = 1</span>
                      <span class="Comment"># var bluel = 2</span>
<span class="Identifier">doAssert</span> <span class="Identifier">red</span> <span class="Operator">==</span> <span class="DecNumber">0</span>
<span class="Identifier">doAssert</span> <span class="Identifier">green</span> <span class="Operator">==</span> <span class="DecNumber">1</span>
<span class="Identifier">doAssert</span> <span class="Identifier">blue</span> <span class="Operator">==</span> <span class="DecNumber">2</span></pre>
<h2><a class="toc-backref" id="rules-rename-it" href="#rules-rename-it">Rename <tt class="docutils literal"><span class="pre">it</span></tt></a></h2><p>The item identifier, <tt class="docutils literal"><span class="pre">it</span></tt>, can be renamed using a named argument.</p>

<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">src</span><span class="Operator">/</span><span class="Identifier">genit</span>
<span class="Identifier">gen</span><span class="Punctuation">(</span><span class="Identifier">it</span> <span class="Operator">=</span> <span class="Identifier">this</span><span class="Punctuation">,</span> <span class="Identifier">a</span><span class="Punctuation">,</span> <span class="Identifier">b</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Comment"># produces:</span>
  <span class="Keyword">var</span> <span class="Identifier">this</span> <span class="Operator">=</span> <span class="DecNumber">1</span>        <span class="Comment"># var a = 1</span>
                      <span class="Comment"># var b = 1</span>
<span class="Identifier">doAssert</span> <span class="Identifier">a</span> <span class="Operator">==</span> <span class="DecNumber">1</span>
<span class="Identifier">doAssert</span> <span class="Identifier">b</span> <span class="Operator">==</span> <span class="DecNumber">1</span></pre>
<h2><a class="toc-backref" id="rules-tuple-arguments" href="#rules-tuple-arguments">Tuple Arguments</a></h2><p>Each unnamed argument can be a tuple, and its parts can be accessed by indexing like a regular tuple. If the indexed tuple is an l-value, it must be surrounded by accent quotes to be legal Nim.</p>
<p>If an unnnamed argument is indexed but it is not a tuple, it will be &quot;duplicated&quot;, so you can mix tuple and non-tuple arguments.</p>
<p>If the tuple index is part of a larger expression, e.g. dot expression, accent quoting will run genit's parser on it. Accent quoting will also interrupt multiple indexing.</p>

<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">src</span><span class="Operator">/</span><span class="Identifier">genit</span>
<span class="Identifier">gen</span> <span class="Punctuation">(</span><span class="Identifier">first</span><span class="Punctuation">,</span> <span class="DecNumber">1</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Punctuation">(</span><span class="Identifier">second</span><span class="Punctuation">,</span> <span class="DecNumber">2</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Punctuation">(</span><span class="Identifier">third</span><span class="Punctuation">,</span> <span class="DecNumber">3</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Comment"># produces:</span>
  <span class="Keyword">var</span> <span class="Punctuation">`</span><span class="Identifier">it</span><span class="Punctuation">[</span><span class="DecNumber">0</span><span class="Punctuation">]</span><span class="Punctuation">`</span> <span class="Operator">=</span> <span class="Identifier">it</span><span class="Punctuation">[</span><span class="DecNumber">1</span><span class="Punctuation">]</span>                    <span class="Comment"># var first = 1</span>
                                         <span class="Comment"># var second = 2</span>
                                         <span class="Comment"># var third = 3</span>
<span class="Identifier">doAssert</span> <span class="Identifier">first</span> <span class="Operator">==</span> <span class="DecNumber">1</span>
<span class="Identifier">doAssert</span> <span class="Identifier">second</span> <span class="Operator">==</span> <span class="DecNumber">2</span>
<span class="Identifier">doAssert</span> <span class="Identifier">third</span> <span class="Operator">==</span> <span class="DecNumber">3</span>

<span class="Identifier">gen</span> <span class="Identifier">w</span><span class="Punctuation">,</span> <span class="Identifier">a</span><span class="Punctuation">,</span> <span class="Identifier">s</span><span class="Punctuation">,</span> <span class="Identifier">d</span><span class="Punctuation">,</span> <span class="Punctuation">(</span><span class="Identifier">shift</span><span class="Punctuation">,</span> <span class="Identifier">run</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Keyword">let</span> <span class="Punctuation">`</span><span class="Operator">^</span><span class="Identifier">it</span><span class="Punctuation">[</span><span class="DecNumber">0</span><span class="Punctuation">]</span><span class="Punctuation">`</span> <span class="Operator">=</span> <span class="Operator">$$</span><span class="Identifier">it</span><span class="Punctuation">[</span><span class="DecNumber">1</span><span class="Punctuation">]</span>
<span class="Identifier">doAssert</span> <span class="Identifier">W</span> <span class="Operator">==</span> <span class="StringLit">&quot;w&quot;</span>
<span class="Identifier">doAssert</span> <span class="Identifier">Shift</span> <span class="Operator">==</span> <span class="StringLit">&quot;run&quot;</span>

<span class="Keyword">type</span> <span class="Identifier">State</span> <span class="Operator">=</span> <span class="Keyword">object</span>
  <span class="Identifier">foo</span><span class="Punctuation">:</span> <span class="Identifier">int</span>
  <span class="Identifier">bar</span><span class="Punctuation">:</span> <span class="Identifier">int</span>

<span class="Keyword">var</span> <span class="Identifier">s</span> <span class="Operator">=</span> <span class="Identifier">State</span><span class="Punctuation">(</span><span class="Identifier">foo</span><span class="Punctuation">:</span> <span class="DecNumber">10</span><span class="Punctuation">,</span> <span class="Identifier">bar</span><span class="Punctuation">:</span> <span class="DecNumber">100</span><span class="Punctuation">)</span>

<span class="Identifier">gen</span> <span class="Punctuation">(</span><span class="Identifier">val</span><span class="Punctuation">,</span> <span class="Identifier">foo</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Identifier">bar</span><span class="Punctuation">:</span>
  <span class="Keyword">let</span> <span class="Punctuation">`</span><span class="Identifier">it</span><span class="Punctuation">[</span><span class="DecNumber">0</span><span class="Punctuation">]</span><span class="Punctuation">`</span> <span class="Operator">=</span> <span class="Identifier">s</span><span class="Operator">.</span><span class="Punctuation">`</span><span class="Identifier">it</span><span class="Punctuation">[</span><span class="DecNumber">1</span><span class="Punctuation">]</span><span class="Punctuation">`</span> <span class="Comment"># accent quote it[1] to bypass nim parsing</span>

<span class="Identifier">doAssert</span> <span class="Identifier">val</span> <span class="Operator">==</span> <span class="DecNumber">10</span>
<span class="Identifier">doAssert</span> <span class="Identifier">bar</span> <span class="Operator">==</span> <span class="DecNumber">100</span>

<span class="Comment"># multiple tuple indexing with duplication</span>
<span class="Keyword">var</span> <span class="Identifier">a</span> <span class="Operator">=</span> <span class="Punctuation">[</span><span class="DecNumber">1</span><span class="Punctuation">,</span> <span class="DecNumber">2</span><span class="Punctuation">,</span> <span class="DecNumber">3</span><span class="Punctuation">]</span>
<span class="Keyword">var</span> <span class="Identifier">b</span> <span class="Operator">=</span> <span class="Punctuation">[</span><span class="CharLit">'a'</span><span class="Punctuation">,</span> <span class="CharLit">'b'</span><span class="Punctuation">,</span> <span class="CharLit">'c'</span><span class="Punctuation">]</span>

<span class="Identifier">gen</span> <span class="Punctuation">(</span><span class="Identifier">ap</span><span class="Punctuation">,</span> <span class="Identifier">a</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Identifier">b</span><span class="Punctuation">:</span>
  <span class="Keyword">let</span> <span class="Punctuation">`</span><span class="Identifier">it</span><span class="Punctuation">[</span><span class="DecNumber">0</span><span class="Punctuation">]</span> <span class="Identifier">t</span><span class="Punctuation">`</span> <span class="Operator">=</span> <span class="Identifier">it</span><span class="Punctuation">[</span><span class="DecNumber">1</span><span class="Punctuation">]</span><span class="Punctuation">[</span><span class="DecNumber">0</span><span class="Punctuation">]</span><span class="Operator">.</span><span class="Keyword">addr</span>

<span class="Identifier">doAssert</span> <span class="Identifier">apt</span><span class="Punctuation">[</span><span class="Punctuation">]</span> <span class="Operator">==</span> <span class="Identifier">a</span>
<span class="Identifier">doAssert</span> <span class="Identifier">bt</span><span class="Punctuation">[</span><span class="Punctuation">]</span> <span class="Operator">==</span> <span class="Identifier">b</span>

<span class="Comment"># interrupt tuple indexing</span>
<span class="Identifier">gen</span> <span class="Punctuation">(</span><span class="Identifier">ap</span><span class="Punctuation">,</span> <span class="Identifier">a</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Identifier">b</span><span class="Punctuation">:</span>
  <span class="Keyword">let</span> <span class="Punctuation">`</span><span class="Identifier">it</span><span class="Punctuation">[</span><span class="DecNumber">0</span><span class="Punctuation">]</span> <span class="Identifier">p</span><span class="Punctuation">`</span> <span class="Operator">=</span> <span class="Punctuation">`</span><span class="Identifier">it</span><span class="Punctuation">[</span><span class="DecNumber">1</span><span class="Punctuation">]</span><span class="Punctuation">`</span><span class="Punctuation">[</span><span class="DecNumber">0</span><span class="Punctuation">]</span><span class="Operator">.</span><span class="Keyword">addr</span>

<span class="Identifier">doAssert</span> <span class="Identifier">app</span><span class="Punctuation">[</span><span class="Punctuation">]</span> <span class="Operator">==</span> <span class="DecNumber">1</span>
<span class="Identifier">doAssert</span> <span class="Identifier">bp</span><span class="Punctuation">[</span><span class="Punctuation">]</span> <span class="Operator">==</span> <span class="CharLit">'a'</span></pre>
<h2><a class="toc-backref" id="rules-stringify" href="#rules-stringify">Stringify</a></h2><p>The <tt class="docutils literal"><span class="pre">$$</span></tt>, stringify, operator turns an identifier into a string.</p>

<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">src</span><span class="Operator">/</span><span class="Identifier">genit</span>
<span class="Identifier">gen</span><span class="Punctuation">(</span><span class="Identifier">l</span> <span class="Operator">=</span> <span class="Identifier">Label</span><span class="Punctuation">,</span> <span class="Identifier">name</span><span class="Punctuation">,</span> <span class="Identifier">age</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Comment"># produces</span>
  <span class="Keyword">var</span> <span class="Punctuation">`</span><span class="Identifier">it</span> <span class="Identifier">l</span><span class="Punctuation">`</span> <span class="Operator">=</span> <span class="Operator">$$</span><span class="Identifier">it</span> <span class="Operator">&amp;</span> <span class="Operator">$$</span><span class="Identifier">l</span>  <span class="Comment"># var nameLabel = &quot;nameLabel&quot;</span>
                           <span class="Comment"># var ageLabel = &quot;ageLabel&quot;</span>
<span class="Identifier">doAssert</span> <span class="Identifier">nameLabel</span> <span class="Operator">==</span> <span class="StringLit">&quot;nameLabel&quot;</span>
<span class="Identifier">doAssert</span> <span class="Identifier">ageLabel</span> <span class="Operator">==</span> <span class="StringLit">&quot;ageLabel&quot;</span></pre>
<h2><a class="toc-backref" id="rules-capitalize" href="#rules-capitalize">Capitalize</a></h2><p>The <tt class="docutils literal"><span class="pre">^</span></tt> operator will capitalize the first letter of an identifier.</p>

<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">src</span><span class="Operator">/</span><span class="Identifier">genit</span>
<span class="Identifier">gen</span> <span class="Identifier">red</span><span class="Punctuation">,</span> <span class="Identifier">green</span><span class="Punctuation">,</span> <span class="Identifier">blue</span><span class="Punctuation">:</span>
  <span class="Keyword">var</span> <span class="Punctuation">`</span><span class="Operator">^</span><span class="Identifier">it</span><span class="Punctuation">`</span> <span class="Operator">=</span> <span class="Operator">$$</span><span class="Identifier">it</span>

<span class="Identifier">doAssert</span> <span class="Identifier">Red</span> <span class="Operator">==</span> <span class="StringLit">&quot;red&quot;</span>
<span class="Identifier">doAssert</span> <span class="Identifier">Green</span> <span class="Operator">==</span> <span class="StringLit">&quot;green&quot;</span>
<span class="Identifier">doAssert</span> <span class="Identifier">Blue</span> <span class="Operator">==</span> <span class="StringLit">&quot;blue&quot;</span></pre>
<h2><a class="toc-backref" id="rules-expansion" href="#rules-expansion">Expansion</a></h2><p>The <tt class="docutils literal"><span class="pre">~</span></tt> operator will expand an array, seq, or tuple, when in the body.</p>

<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">src</span><span class="Operator">/</span><span class="Identifier">genit</span>
<span class="Keyword">type</span> <span class="Identifier">Color</span> <span class="Operator">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">none</span> <span class="Operator">=</span> <span class="DecNumber">0</span> 
  <span class="Identifier">red</span> <span class="Operator">=</span> <span class="DecNumber">1</span>
  <span class="Identifier">green</span> <span class="Operator">=</span> <span class="DecNumber">2</span>
  <span class="Identifier">blue</span> <span class="Operator">=</span> <span class="DecNumber">3</span>

<span class="Keyword">let</span> <span class="Identifier">color</span> <span class="Operator">=</span> <span class="Identifier">blue</span>

<span class="Identifier">gen</span><span class="Punctuation">(</span><span class="Identifier">c</span> <span class="Operator">=</span> <span class="Punctuation">[</span><span class="Identifier">none</span><span class="Punctuation">,</span> <span class="Identifier">red</span><span class="Punctuation">,</span> <span class="Identifier">green</span><span class="Punctuation">,</span> <span class="Identifier">blue</span><span class="Punctuation">]</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Keyword">var</span> <span class="Identifier">varVal</span> <span class="Operator">=</span> <span class="Identifier">gen</span><span class="Punctuation">(</span><span class="Operator">~</span><span class="Identifier">c</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
    <span class="Keyword">case</span> <span class="Identifier">color</span><span class="Punctuation">:</span>
      <span class="Keyword">of</span> <span class="Identifier">it</span><span class="Punctuation">:</span> <span class="Operator">%</span><span class="Identifier">it</span>

  <span class="Keyword">let</span> <span class="Identifier">letVal</span> <span class="Operator">=</span> <span class="Identifier">gen</span><span class="Punctuation">(</span><span class="Operator">~</span><span class="Identifier">c</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
    <span class="Keyword">case</span> <span class="Identifier">varVal</span><span class="Punctuation">:</span>
      <span class="Keyword">of</span> <span class="Operator">%</span><span class="Identifier">it</span><span class="Punctuation">:</span> <span class="Identifier">it</span>
      <span class="Keyword">else</span><span class="Punctuation">:</span> <span class="Identifier">none</span> 

<span class="Identifier">doAssert</span> <span class="Identifier">varVal</span> <span class="Operator">==</span> <span class="DecNumber">3</span>
<span class="Identifier">doAssert</span> <span class="Identifier">letVal</span> <span class="Operator">==</span> <span class="Identifier">blue</span></pre>
<h2><a class="toc-backref" id="rules-type-fields" href="#rules-type-fields">Type Fields</a></h2><p>Passing in a type or symbol prefixed with the fields operator, <tt class="docutils literal"><span class="pre">+</span></tt>, will pass in the type's fields as unnamed items. Internally this uses <tt class="docutils literal"><span class="pre">genWith</span></tt> and only supports Enum, Object, and Tuple types.</p>

<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">src</span><span class="Operator">/</span><span class="Identifier">genit</span>
<span class="Keyword">type</span> <span class="Identifier">ColorIndex</span> <span class="Operator">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">none</span> <span class="Operator">=</span> <span class="Operator">-</span><span class="DecNumber">1</span>
  <span class="Identifier">red</span> <span class="Operator">=</span> <span class="DecNumber">1</span>
  <span class="Identifier">green</span> <span class="Operator">=</span> <span class="DecNumber">2</span>
  <span class="Identifier">blue</span> <span class="Operator">=</span> <span class="DecNumber">3</span>

<span class="Identifier">gen</span> <span class="Operator">+</span><span class="Identifier">ColorIndex</span><span class="Punctuation">:</span>
  <span class="Keyword">var</span> <span class="Punctuation">`</span><span class="Operator">^</span><span class="Identifier">it</span><span class="Punctuation">[</span><span class="DecNumber">0</span><span class="Punctuation">]</span><span class="Punctuation">`</span> <span class="Operator">=</span> <span class="Punctuation">(</span><span class="Operator">$$</span><span class="Identifier">it</span><span class="Punctuation">[</span><span class="DecNumber">0</span><span class="Punctuation">]</span><span class="Punctuation">,</span> <span class="Identifier">it</span><span class="Punctuation">[</span><span class="DecNumber">1</span><span class="Punctuation">]</span><span class="Punctuation">)</span>

<span class="Identifier">doAssert</span> <span class="Identifier">None</span> <span class="Operator">==</span> <span class="Punctuation">(</span><span class="StringLit">&quot;none&quot;</span><span class="Punctuation">,</span> <span class="Operator">-</span><span class="DecNumber">1</span><span class="Punctuation">)</span>
<span class="Identifier">doAssert</span> <span class="Identifier">Red</span> <span class="Operator">==</span> <span class="Punctuation">(</span><span class="StringLit">&quot;red&quot;</span><span class="Punctuation">,</span> <span class="DecNumber">1</span><span class="Punctuation">)</span>
<span class="Identifier">doAssert</span> <span class="Identifier">Green</span> <span class="Operator">==</span> <span class="Punctuation">(</span><span class="StringLit">&quot;green&quot;</span><span class="Punctuation">,</span> <span class="DecNumber">2</span><span class="Punctuation">)</span>
<span class="Identifier">doAssert</span> <span class="Identifier">Blue</span> <span class="Operator">==</span> <span class="Punctuation">(</span><span class="StringLit">&quot;blue&quot;</span><span class="Punctuation">,</span> <span class="DecNumber">3</span><span class="Punctuation">)</span>

<span class="Keyword">type</span> <span class="Identifier">Color</span> <span class="Operator">=</span> <span class="Keyword">object</span>
  <span class="Identifier">r</span><span class="Punctuation">,</span> <span class="Identifier">g</span><span class="Punctuation">,</span> <span class="Identifier">b</span><span class="Punctuation">:</span> <span class="Identifier">uint8</span>

<span class="Keyword">var</span> <span class="Identifier">c</span><span class="Punctuation">:</span> <span class="Identifier">Color</span>

<span class="Identifier">gen</span> <span class="Operator">+</span><span class="Identifier">Color</span><span class="Punctuation">:</span>
  <span class="Identifier">c</span><span class="Operator">.</span><span class="Identifier">it</span> <span class="Operator">=</span> <span class="DecNumber">255'</span><span class="Identifier">u8</span>

<span class="Identifier">doAssert</span> <span class="Identifier">c</span><span class="Operator">.</span><span class="Identifier">r</span> <span class="Operator">==</span> <span class="DecNumber">255'</span><span class="Identifier">u8</span>
<span class="Identifier">doAssert</span> <span class="Identifier">c</span><span class="Operator">.</span><span class="Identifier">g</span> <span class="Operator">==</span> <span class="DecNumber">255'</span><span class="Identifier">u8</span>
<span class="Identifier">doAssert</span> <span class="Identifier">c</span><span class="Operator">.</span><span class="Identifier">b</span> <span class="Operator">==</span> <span class="DecNumber">255'</span><span class="Identifier">u8</span>

<span class="Keyword">type</span>
  <span class="Identifier">Vec3</span> <span class="Operator">=</span> <span class="Keyword">tuple</span><span class="Punctuation">[</span><span class="Identifier">x</span><span class="Punctuation">,</span> <span class="Identifier">y</span><span class="Punctuation">:</span> <span class="Identifier">float32</span><span class="Punctuation">,</span> <span class="Identifier">z</span><span class="Punctuation">:</span> <span class="Identifier">float32</span><span class="Punctuation">]</span>
<span class="Keyword">var</span> <span class="Identifier">l</span> <span class="Operator">=</span> <span class="Punctuation">(</span><span class="DecNumber">10</span><span class="Identifier">f</span><span class="Punctuation">,</span> <span class="DecNumber">20</span><span class="Identifier">f</span><span class="Punctuation">,</span> <span class="DecNumber">30</span><span class="Identifier">f</span><span class="Punctuation">)</span> <span class="Comment"># tuple with no named fields</span>
<span class="Keyword">var</span> <span class="Identifier">r</span><span class="Punctuation">:</span><span class="Identifier">Vec3</span> <span class="Operator">=</span> <span class="Punctuation">(</span><span class="DecNumber">0</span><span class="Identifier">f</span><span class="Punctuation">,</span> <span class="DecNumber">0</span><span class="Identifier">f</span><span class="Punctuation">,</span> <span class="DecNumber">0</span><span class="Identifier">f</span><span class="Punctuation">)</span>

<span class="Identifier">gen</span> <span class="Operator">+</span><span class="Identifier">l</span><span class="Punctuation">:</span> <span class="Comment"># tuple constructor returns 0, 1, 2</span>
  <span class="Identifier">r</span><span class="Punctuation">[</span><span class="Identifier">it</span><span class="Punctuation">]</span> <span class="Operator">=</span> <span class="Identifier">l</span><span class="Punctuation">[</span><span class="Identifier">it</span><span class="Punctuation">]</span>

<span class="Identifier">doAssert</span> <span class="Identifier">r</span><span class="Operator">.</span><span class="Identifier">x</span> <span class="Operator">==</span> <span class="DecNumber">10</span><span class="Identifier">f</span>
<span class="Identifier">doAssert</span> <span class="Identifier">r</span><span class="Operator">.</span><span class="Identifier">z</span> <span class="Operator">==</span> <span class="DecNumber">30</span><span class="Identifier">f</span>

<span class="Identifier">r</span><span class="Operator">.</span><span class="Identifier">x</span> <span class="Operator">=</span> <span class="DecNumber">1</span><span class="Identifier">f</span>
<span class="Identifier">r</span><span class="Operator">.</span><span class="Identifier">z</span> <span class="Operator">=</span> <span class="DecNumber">3</span><span class="Identifier">f</span>

<span class="Keyword">var</span> <span class="Identifier">res</span><span class="Punctuation">:</span><span class="Identifier">Vec3</span>
<span class="Identifier">gen</span> <span class="Operator">+</span><span class="Identifier">r</span><span class="Punctuation">:</span> <span class="Comment"># Vec3</span>
  <span class="Identifier">res</span><span class="Operator">.</span><span class="Identifier">it</span> <span class="Operator">=</span> <span class="Identifier">r</span><span class="Operator">.</span><span class="Identifier">it</span>

<span class="Identifier">doAssert</span> <span class="Identifier">res</span><span class="Operator">.</span><span class="Identifier">x</span> <span class="Operator">==</span> <span class="DecNumber">1</span><span class="Identifier">f</span>
<span class="Identifier">doAssert</span> <span class="Identifier">res</span><span class="Operator">.</span><span class="Identifier">z</span> <span class="Operator">==</span> <span class="DecNumber">3</span><span class="Identifier">f</span></pre>
<h2><a class="toc-backref" id="rules-multiple-statements-and-nesting" href="#rules-multiple-statements-and-nesting">Multiple Statements and Nesting</a></h2><p>When using multiple states in a gen macro, each statement will be produced at least once even if there are no arguments. And each statement will be produced once for each unnamed argument using the item identifier, unless its a special construct like a <tt class="docutils literal"><span class="pre">case</span></tt> statement or type definition. It's better to split the <tt class="docutils literal"><span class="pre">gen</span></tt> calls for clarity if possible.</p>

<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">src</span><span class="Operator">/</span><span class="Identifier">genit</span>
<span class="Identifier">gen</span><span class="Punctuation">(</span><span class="Identifier">c</span> <span class="Operator">=</span> <span class="Identifier">Component</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Identifier">gen</span><span class="Punctuation">(</span><span class="Identifier">red</span><span class="Punctuation">,</span> <span class="Identifier">green</span><span class="Punctuation">,</span> <span class="Identifier">blue</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
    <span class="Keyword">type</span>
      <span class="Identifier">RGB</span> <span class="Operator">=</span> <span class="Keyword">object</span>
        <span class="Punctuation">`</span><span class="Identifier">it</span> <span class="Identifier">c</span><span class="Punctuation">`</span><span class="Punctuation">:</span> <span class="Identifier">float</span>

  <span class="Keyword">var</span> <span class="Identifier">color</span> <span class="Operator">=</span> <span class="Identifier">RGB</span><span class="Punctuation">(</span><span class="Punctuation">`</span><span class="Identifier">red</span> <span class="Identifier">c</span><span class="Punctuation">`</span><span class="Punctuation">:</span><span class="FloatNumber">1.0</span><span class="Punctuation">,</span> <span class="Punctuation">`</span><span class="Identifier">green</span> <span class="Identifier">c</span><span class="Punctuation">`</span><span class="Punctuation">:</span><span class="FloatNumber">0.0</span><span class="Punctuation">,</span> <span class="Punctuation">`</span><span class="Identifier">blue</span> <span class="Identifier">c</span><span class="Punctuation">`</span><span class="Punctuation">:</span><span class="FloatNumber">1.0</span><span class="Punctuation">)</span>

<span class="Identifier">doAssert</span> <span class="Identifier">color</span><span class="Operator">.</span><span class="Identifier">redComponent</span> <span class="Operator">==</span> <span class="DecNumber">1</span></pre>
<h2><a class="toc-backref" id="rules-special-constructs" href="#rules-special-constructs">Special Constructs</a></h2><p>Some Nim constructs like <tt class="docutils literal"><span class="pre">case</span></tt> statements and type definitions: <tt class="docutils literal"><span class="pre">objects</span></tt>, <tt class="docutils literal"><span class="pre">enum</span></tt>, <tt class="docutils literal"><span class="pre">tuple</span></tt>, etc. need special handling. Some might not be implemented currently.</p>

<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">src</span><span class="Operator">/</span><span class="Identifier">genit</span>
<span class="Identifier">gen</span> <span class="Identifier">Free</span><span class="Punctuation">,</span> <span class="Identifier">Carried</span><span class="Punctuation">,</span> <span class="Identifier">FlyingUp</span><span class="Punctuation">,</span> <span class="Identifier">FlyingBack</span><span class="Punctuation">:</span>
  <span class="Keyword">type</span> <span class="Identifier">BoxState</span> <span class="Operator">=</span> <span class="Keyword">enum</span>
    <span class="Punctuation">`</span><span class="Identifier">bs</span> <span class="Identifier">it</span><span class="Punctuation">`</span>

<span class="Identifier">doAssert</span> <span class="Identifier">ord</span><span class="Punctuation">(</span><span class="Identifier">bsFlyingBack</span><span class="Punctuation">)</span> <span class="Operator">==</span> <span class="DecNumber">3</span>

<span class="Keyword">type</span> <span class="Identifier">Color</span> <span class="Operator">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">Red</span>
  <span class="Identifier">Green</span>
  <span class="Identifier">Blue</span>
  <span class="Identifier">No</span>

<span class="Keyword">var</span> <span class="Identifier">color1</span> <span class="Operator">=</span> <span class="Identifier">Green</span>
<span class="Keyword">proc</span> <span class="Identifier">getColor</span><span class="Punctuation">(</span><span class="Identifier">color</span><span class="Punctuation">:</span> <span class="Identifier">Color</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Punctuation">(</span><span class="Identifier">int</span><span class="Punctuation">,</span> <span class="Identifier">int</span><span class="Punctuation">,</span> <span class="Identifier">int</span><span class="Punctuation">)</span> <span class="Operator">=</span>
  <span class="Identifier">gen</span> <span class="Punctuation">(</span><span class="Identifier">Red</span><span class="Punctuation">,</span> <span class="Punctuation">(</span><span class="DecNumber">255</span><span class="Punctuation">,</span> <span class="DecNumber">0</span><span class="Punctuation">,</span> <span class="DecNumber">0</span><span class="Punctuation">)</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Punctuation">(</span><span class="Identifier">Green</span><span class="Punctuation">,</span> <span class="Punctuation">(</span><span class="DecNumber">0</span><span class="Punctuation">,</span> <span class="DecNumber">255</span><span class="Punctuation">,</span> <span class="DecNumber">0</span><span class="Punctuation">)</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Punctuation">(</span><span class="Identifier">Blue</span><span class="Punctuation">,</span> <span class="Punctuation">(</span><span class="DecNumber">0</span><span class="Punctuation">,</span> <span class="DecNumber">0</span><span class="Punctuation">,</span> <span class="DecNumber">255</span><span class="Punctuation">)</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
    <span class="Keyword">case</span> <span class="Identifier">color</span><span class="Punctuation">:</span>
      <span class="Keyword">of</span> <span class="Punctuation">`</span><span class="Identifier">it</span><span class="Punctuation">[</span><span class="DecNumber">0</span><span class="Punctuation">]</span><span class="Punctuation">`</span><span class="Punctuation">:</span> <span class="Identifier">it</span><span class="Punctuation">[</span><span class="DecNumber">1</span><span class="Punctuation">]</span>
      <span class="Keyword">else</span><span class="Punctuation">:</span> <span class="Punctuation">(</span><span class="DecNumber">0</span><span class="Punctuation">,</span> <span class="DecNumber">0</span><span class="Punctuation">,</span> <span class="DecNumber">0</span><span class="Punctuation">)</span> 

<span class="Keyword">var</span> <span class="Identifier">index1</span> <span class="Operator">=</span> <span class="Identifier">getColor</span><span class="Punctuation">(</span><span class="Identifier">color1</span><span class="Punctuation">)</span>
<span class="Identifier">doAssert</span> <span class="Identifier">index1</span> <span class="Operator">==</span> <span class="Punctuation">(</span><span class="DecNumber">0</span><span class="Punctuation">,</span> <span class="DecNumber">255</span><span class="Punctuation">,</span> <span class="DecNumber">0</span><span class="Punctuation">)</span>

<span class="Identifier">gen</span><span class="Punctuation">(</span><span class="Identifier">c</span> <span class="Operator">=</span> <span class="Identifier">Component</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Identifier">gen</span><span class="Punctuation">(</span><span class="Identifier">red</span><span class="Punctuation">,</span> <span class="Identifier">green</span><span class="Punctuation">,</span> <span class="Identifier">blue</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
    <span class="Keyword">type</span>
      <span class="Identifier">RGB</span> <span class="Operator">=</span> <span class="Keyword">object</span>
        <span class="Punctuation">`</span><span class="Identifier">it</span> <span class="Identifier">c</span><span class="Punctuation">`</span><span class="Punctuation">:</span> <span class="Identifier">float</span>

  <span class="Keyword">var</span> <span class="Identifier">color</span> <span class="Operator">=</span> <span class="Identifier">RGB</span><span class="Punctuation">(</span><span class="Punctuation">`</span><span class="Identifier">red</span> <span class="Identifier">c</span><span class="Punctuation">`</span><span class="Punctuation">:</span><span class="FloatNumber">1.0</span><span class="Punctuation">,</span> <span class="Punctuation">`</span><span class="Identifier">green</span> <span class="Identifier">c</span><span class="Punctuation">`</span><span class="Punctuation">:</span><span class="FloatNumber">0.0</span><span class="Punctuation">,</span> <span class="Punctuation">`</span><span class="Identifier">blue</span> <span class="Identifier">c</span><span class="Punctuation">`</span><span class="Punctuation">:</span><span class="FloatNumber">1.0</span><span class="Punctuation">)</span>

<span class="Identifier">doAssert</span> <span class="Identifier">color</span><span class="Operator">.</span><span class="Identifier">redComponent</span> <span class="Operator">==</span> <span class="DecNumber">1</span></pre>
<h2><a class="toc-backref" id="rules-debugging-with-print" href="#rules-debugging-with-print">Debugging with <tt class="docutils literal"><span class="pre">print</span></tt></a></h2><p>To see what <tt class="docutils literal"><span class="pre">gen</span></tt> produces, wrap it with the <tt class="docutils literal"><span class="pre">print</span></tt> macro.</p>

<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">src</span><span class="Operator">/</span><span class="Identifier">genit</span>
<span class="Keyword">var</span> <span class="Identifier">sum</span> <span class="Operator">=</span> <span class="DecNumber">0</span>
<span class="Identifier">print</span><span class="Punctuation">:</span>
  <span class="Identifier">gen</span><span class="Punctuation">(</span><span class="DecNumber">1</span><span class="Punctuation">,</span> <span class="DecNumber">2</span><span class="Punctuation">,</span> <span class="DecNumber">3</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
    <span class="Identifier">sum</span> <span class="Operator">+=</span> <span class="Identifier">it</span>
  
<span class="Identifier">doAssert</span> <span class="Identifier">sum</span> <span class="Operator">==</span> <span class="DecNumber">6</span>

<span class="Identifier">gen</span><span class="Punctuation">(</span><span class="DecNumber">1</span><span class="Punctuation">,</span> <span class="DecNumber">2</span><span class="Punctuation">,</span> <span class="DecNumber">3</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Identifier">sum</span> <span class="Operator">+=</span> <span class="Identifier">it</span>
<span class="Identifier">doAssert</span> <span class="Identifier">sum</span> <span class="Operator">==</span> <span class="DecNumber">12</span></pre></p>
  <div class="section" id="17">
<h1><a class="toc-backref" href="#17">Macros</a></h1>
<dl class="item">

<div id="debug-macros-all">
<div id="debug.m,untyped">
<dt><pre><span class="Keyword">macro</span> <a href="#debug.m%2Cuntyped"><span class="Identifier">debug</span></a><span class="Other">(</span><span class="Identifier">body</span><span class="Other">:</span> <span class="Identifier">untyped</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>



</dd>
</div>

</div>

<div id="gen-macros-all">
<div id="gen.m,varargs[untyped]">
<dt><pre><span class="Keyword">macro</span> <a href="#gen.m%2Cvarargs%5Buntyped%5D"><span class="Identifier">gen</span></a><span class="Other">(</span><span class="Identifier">va</span><span class="Other">:</span> <span class="Identifier">varargs</span><span class="Other">[</span><span class="Identifier">untyped</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

Implements the DSL.

</dd>
</div>

</div>

<div id="genWith-macros-all">
<div id="genWith.m,typed,varargs[untyped]">
<dt><pre><span class="Keyword">macro</span> <a href="#genWith.m%2Ctyped%2Cvarargs%5Buntyped%5D"><span class="Identifier">genWith</span></a><span class="Other">(</span><span class="Identifier">x</span><span class="Other">:</span> <span class="Identifier">typed</span><span class="Other">;</span> <span class="Identifier">args</span><span class="Other">:</span> <span class="Identifier">varargs</span><span class="Other">[</span><span class="Identifier">untyped</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

Calls <tt class="docutils literal"><span class="pre">gen</span></tt> with the fields of the variable or type passed in; supports enum, object, and tuple. Used by the fields operator, <tt class="docutils literal"><span class="pre">+</span></tt>, with <tt class="docutils literal"><span class="pre">gen</span></tt> on a symbol.

</dd>
</div>

</div>

<div id="print-macros-all">
<div id="print.m,untyped">
<dt><pre><span class="Keyword">macro</span> <a href="#print.m%2Cuntyped"><span class="Identifier">print</span></a><span class="Other">(</span><span class="Identifier">body</span><span class="Other">:</span> <span class="Identifier">untyped</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

This will print out what <tt class="docutils literal"><span class="pre"><span class="Identifier">gen</span></span></tt> produces for debugging purposes. Wrap the <tt class="docutils literal"><span class="pre">gen</span></tt> call with print.

</dd>
</div>

</div>

</dl></div>

  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small style="color: var(--hint);">Made with Nim. Generated: 2022-01-31 01:09:03 UTC</small>
      </div>
    </div>
  </div>
</div>

</body>
</html>
